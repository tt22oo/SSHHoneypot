## SSH 허니팟 
[한국어](README.md) | [English](README-EN.md)

Go로 작성한 SSH 허니팟으로, 세션이 종료되어도 공격자가 만든 파일, 디렉터리등 상태가 유지되는것을 목표로 한 허니팟입니다.

## 1. 만든 이유

많은 SSH 허니팟은 시스템이 정상적으로 동작하더라도 세션을 종료하고 다시 접속하면 환경이 초기화됩니다.  
공격자들은 이러한 특성을 이용해 허니팟 여부를 쉽게 탐지할 수 있습니다.

이 프로젝트는 이러한 탐지를 어렵게 하고, 보다 현실적인 환경에서 공격자의 행동을 기록하기 위해 제작되었습니다.  
또한 허니팟의 동작 원리를 직접 이해하는 것을 목표로 합니다.

## 2. 동작 방식
1. SSH로 공격자가 접속시 세션이 생성됩니다.
2. 접속 IP 기준으로 상태를 기록합니다.
3. 접속 IP별 파일, 디렉터리를 JSON으로 기록합니다.
4. 저장된 상태는 세션 종료후에도 유지됩니다.
5. 로그인 시도 정보는 모두 로그로 기록됩니다.

## 3. 프로젝트 구조

### core/auth
- 인증 처리
- `log`: 인증 시도 로깅

### core/commands
- 명령어 관련 처리  
- `file`: 파일 관련 명령어  
- `system`: 시스템 관련 명령어

### core/session
- 세션 관리 및 쉘 처리  
- `handler`: 세션 핸들링  
- `shell`: 명령어 파싱 및 처리  
- `stream`: 입출력 처리  
- `log`: 세션 로깅

## 4. 설정 방법
초기 설정 파일은 `configs/configs.json`에 있습니다.
```json
{
    "configs": {
        "listen": ":22",
        "banner": "test1234",
        "max_delay": 100,
        "auth": {
            "auth": true,
            "username": "root",
            "password": "password"
        }
    },
    "system": {
        "arch": "x86_64",
        "host_name": "server"
    }
}
```
- `listen`: SSH 허니팟을 가동할 포트를 설정 할수있습니다.
- `banner`: SSH 허니팟의 배너를 설정 할수있습니다.
- `max_delay`: 로그인시 혹은 명령어 실행시 있는 랜덤 딜레이의 최대를 지정 할수 있습니다. (ms)
- `auth`: SSH 허니팟의 인증 여부를 설정 할수 있습니다.
- `username`: 인증이 활성화 된 경우 username을 설정 할수 있습니다. (`*`를 입력하면 모든 username를 허용합니다.)
- `password`: 인증이 활성화 된경우 password를 설정 할수 있습니다. (`*`를 입력하면 모든 password를 허용합니다.)
- `arch`: SSH 허니팟의 아키텍쳐를 설정 할수있습니다. 이는 허니팟 시스템에 표기될 아키텍쳐입니다.
- `host_name`: SSH 허니팟의 Host Name을 설정 할수 있습니다. 이는 허니팟 시스템에 표기됩니다.

## 5. 이후 계획
-  보다 자연스러운 쉘 파싱 구현  
-  `proc` 구현: 2026-02-10 일부 구현  
-  명령어 동작의 현실성 개선  
-  더 다양한 리눅스 명령어 지원  
-  웹 기반 대시보드 개발  
-  세션 및 공격 로그 시각화 기능  
